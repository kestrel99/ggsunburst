% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data.R
\name{create_example_trajectory_data}
\alias{create_example_trajectory_data}
\title{Create Example Trajectory Data}
\usage{
create_example_trajectory_data(
  n_subjects = 60,
  n_timepoints = 4,
  timepoint_names = NULL,
  categories = as.character(0:4),
  initial_probs = c(0.3, 0.35, 0.2, 0.1, 0.05),
  transition_tendency = "moderate",
  dropout_rate = 0,
  dropout_bias = c("none", "high", "low"),
  seed = NULL
)
}
\arguments{
\item{n_subjects}{Number of subjects (default 60).}

\item{n_timepoints}{Number of timepoints (default 4).}

\item{timepoint_names}{Names for timepoints. If NULL, generates defaults.}

\item{categories}{Category levels (default 0:4 for CTCAE grades).}

\item{initial_probs}{Initial probability distribution across categories.}

\item{transition_tendency}{How likely subjects are to change category:
"stable" (low change), "moderate", or "dynamic" (high change).}

\item{dropout_rate}{Probability of a subject dropping out at each timepoint
after baseline (default 0, meaning no dropouts). Set to e.g. 0.1 for 10\%
dropout rate per timepoint.}

\item{dropout_bias}{How dropouts relate to category: "none" (random),
"high" (higher categories more likely to drop out), "low" (lower categories
more likely to drop out). Default "none".}

\item{seed}{Random seed for reproducibility.}
}
\value{
A data frame with subject, visit, and grade columns. If dropout_rate > 0,
the data will be non-rectangular (not all subjects have all timepoints).
}
\description{
Generate simulated longitudinal data where subjects transition between
categories over time. Suitable for trajectory sunburst visualization.
Supports generation of non-rectangular data with dropouts.
}
\examples{
# Generate complete trajectory data
traj_data <- create_example_trajectory_data(n_subjects = 50, seed = 42)

# Generate data with 15\% dropout rate per timepoint
dropout_data <- create_example_trajectory_data(
  n_subjects = 80,
  dropout_rate = 0.15,
  seed = 42
)

# Visualize with dropout handling
sunburst_trajectory(
  dropout_data,
  subject = "subject",
  time = "visit",
  category = "grade",
  missing_handling = "dropout",
  palette = "ctcae"
)
}
