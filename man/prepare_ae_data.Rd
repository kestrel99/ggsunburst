% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepare_data.R
\name{prepare_ae_data}
\alias{prepare_ae_data}
\title{Prepare Adverse Event Data for Sunburst}
\usage{
prepare_ae_data(
  data,
  time,
  grade,
  subject = NULL,
  count_unique = TRUE,
  time_order = "appearance",
  grade_order = "numeric",
  ...
)
}
\arguments{
\item{data}{A data frame with AE data.}

\item{time}{Column name for time point or visit.}

\item{grade}{Column name for AE grade (typically 0-5 for CTCAE).}

\item{subject}{Optional column name for subject (used for counting unique patients).}

\item{count_unique}{If TRUE and subject is provided, count unique patients per
grade/time combination. If FALSE, count rows.}

\item{time_order}{How to order timepoints: "appearance" (default), or a
character vector of timepoint names from earliest to latest.}

\item{grade_order}{How to order grades: "numeric" (default, 0-5), or
a character vector.}

\item{...}{Additional arguments passed to \code{prepare_sunburst_data}.}
}
\value{
A data frame ready for sunburst plotting.
}
\description{
A convenience function to prepare adverse event data for sunburst
visualization showing grade distribution over time.
}
\examples{
# Simulated AE data
ae_data <- data.frame(
  USUBJID = rep(paste0("SUBJ-", 1:50), each = 4),
  VISIT = rep(c("Baseline", "Week 2", "Week 4", "Week 8"), 50),
  AETOXGR = sample(0:4, 200, replace = TRUE, prob = c(0.4, 0.3, 0.2, 0.08, 0.02))
)
prepared <- prepare_ae_data(
  ae_data,
  time = "VISIT",
  grade = "AETOXGR"
)
}
