% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sunburst.R
\name{sunburst_ae}
\alias{sunburst_ae}
\title{Sunburst Chart for Adverse Events}
\usage{
sunburst_ae(
  data,
  time,
  grade,
  subject = NULL,
  time_order = NULL,
  grade_labels = NULL,
  palette = "ctcae",
  show_percent = TRUE,
  show_counts = FALSE,
  ...
)
}
\arguments{
\item{data}{A data frame with AE data.}

\item{time}{Column name for time point or visit.}

\item{grade}{Column name for AE grade (typically 0-5 for CTCAE).}

\item{subject}{Optional column name for subject ID (for unique patient counts).}

\item{time_order}{Order of timepoints from inner to outer. Default uses
factor levels or appearance order.}

\item{grade_labels}{Named vector for grade labels in legend.}

\item{palette}{Color palette: "ctcae" (default), "severity", or custom.}

\item{show_percent}{Show percentages in segments? Default TRUE.}

\item{show_counts}{Show counts in segments? Default FALSE.}

\item{...}{Additional arguments passed to \code{sunburst()}.}
}
\value{
A ggplot2 object.
}
\description{
A specialized wrapper around \code{sunburst()} optimized for visualizing
adverse event grade distribution over time. Each ring represents a timepoint,
each segment represents a grade category.
}
\examples{
# Simulated adverse event data
set.seed(123)
n_patients <- 60
visits <- c("Screening", "Baseline", "Week 4", "Week 8", "Week 12")

ae_data <- expand.grid(
  USUBJID = paste0("SUBJ-", sprintf("\%03d", 1:n_patients)),
  AVISIT = factor(visits, levels = visits),
  stringsAsFactors = FALSE
)
ae_data$AETOXGR <- sample(0:4, nrow(ae_data), replace = TRUE,
                          prob = c(0.35, 0.30, 0.20, 0.10, 0.05))

sunburst_ae(
  ae_data,
  time = "AVISIT",
  grade = "AETOXGR",
  title = "Adverse Event Grade Distribution Over Time"
)
}
