% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sunburst.R
\name{sunburst}
\alias{sunburst}
\title{Create a Sunburst Chart}
\usage{
sunburst(
  data,
  rings,
  segments,
  values = NULL,
  ring_order = "appearance",
  segment_order = "numeric",
  ring_gap = 0,
  segment_gap = 0.01,
  inner_radius = 0.25,
  border_color = "white",
  border_width = 0.8,
  show_labels = "percent",
  label_color = "auto",
  label_size = 3.5,
  label_threshold = 0.05,
  ring_labels = TRUE,
  ring_label_position = "inside",
  legend_title = NULL,
  palette = NULL,
  na_color = "grey80",
  title = NULL,
  subtitle = NULL
)
}
\arguments{
\item{data}{A data frame containing the source data.}

\item{rings}{Column name for the ring variable (timepoints). Inner ring is
first/earliest, outer ring is last/latest.}

\item{segments}{Column name for the segment variable (categories/grades).}

\item{values}{Optional column name for counts/weights.}

\item{ring_order}{How to order rings: "appearance", "alphabetical", or
a character vector from inner to outer.}

\item{segment_order}{How to order segments: "appearance", "alphabetical",
"numeric", "frequency", or a character vector.}

\item{ring_gap}{Gap between rings (default 0 for no gap, just white border).}

\item{segment_gap}{Gap between segments in radians (default 0.01).}

\item{inner_radius}{Inner radius of innermost ring (default 0.25).}

\item{border_color}{Color of borders between rings/segments (default "white").}

\item{border_width}{Width of borders (default 0.8).}

\item{show_labels}{What labels to show: "all", "segments", "counts",
"percent", "none", or a combination like c("segments", "percent").}

\item{label_color}{Color for labels (default "black" or "auto" for contrast).}

\item{label_size}{Size for labels (default 3.5).}

\item{label_threshold}{Minimum proportion to show labels (default 0.05).}

\item{ring_labels}{Show ring (timepoint) labels? Default TRUE.}

\item{ring_label_position}{Where to place ring labels: "inside" (default),
"outside", or "legend".}

\item{legend_title}{Title for the fill legend.}

\item{palette}{Color palette: a named vector, "ctcae", "severity", or NULL.}

\item{na_color}{Color for NA/missing values.}

\item{title}{Chart title.}

\item{subtitle}{Chart subtitle.}
}
\value{
A ggplot2 object.
}
\description{
Create a sunburst (multilevel pie) chart from categorical/longitudinal data.
The chart displays data as concentric rings where each ring represents a
timepoint (earliest at center, latest at outer edge) and each segment
represents a category (e.g., AE grade). Segment width shows the proportion
in each category.
}
\examples{
# Example with AE-like data
set.seed(42)
n_patients <- 50
visits <- c("Baseline", "Week 4", "Week 8", "Week 12")

ae_data <- data.frame(
  patient = rep(paste0("PT", 1:n_patients), each = length(visits)),
  visit = factor(rep(visits, n_patients), levels = visits),
  grade = factor(sample(0:4, n_patients * length(visits), replace = TRUE,
                        prob = c(0.3, 0.35, 0.2, 0.1, 0.05)))
)

sunburst(
  ae_data,
  rings = "visit",
  segments = "grade",
  palette = "ctcae",
  legend_title = "AE Grade",
  title = "Adverse Event Grade Distribution Over Time"
)
}
